
import ec2-metadata-json as ec2md


## Function to pull desired data only
def ec2_desired_meta_data(desired_data):
    first_step=['meta-data/']
    desired_step=[first_step[0] + desired_data]
    output=ec2md.walk_the_tree(meta_data_url,desired_step)
    return output


# code allows for a particular data key to be retrieved individually
    #I have made it interactive 
key=''
while key != 'exit':
    print("To exit the prog, type 'exit' ")
    key=input("Which meta-data you want to pull \n -> ")
    valid_inputs=['ami-id', 'ami-launch-index', 'ami-manifest-path', 'block-device-mapping/', 'events/', 'hostname', 'identity-credentials/', 'instance-action', 'instance-id', 'instance-life-cycle', 'instance-type', 'local-hostname', 'local-ipv4', 'mac', 'metrics/', 'network/', 'placement/', 'profile', 'public-hostname', 'public-ipv4', 'public-keys/', 'reservation-id', 'security-groups']
        
    if key in valid_inputs:
        print(f'  {ec2_desired_meta_data(key)}  \n')
    else:
        print("Please input correct value ")
